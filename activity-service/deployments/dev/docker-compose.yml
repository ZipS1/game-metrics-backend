services:
  activity-service:
      environment:
        - DOMAIN_NAME=localhost
      build:
        context: ./activity-service
        dockerfile: ./build/package/Dockerfile
      container_name: activity-service
      networks:
        - gm-backend-net
        - activity-service-net
      restart: always
      depends_on:
        - activity-service-db
        - rabbitmq

  activity-service-db:
    image: postgres:17
    environment:
      - POSTGRES_PASSWORD=postgres
      - POSTGRES_DB=gm_activity
    container_name: activity-service-db
    ports:
      - "5434:5432"
    networks:
      - activity-service-net
    restart: always

networks:
  activity-service-net:
